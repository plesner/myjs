(function() { var c=true,f=null,h=false;function i(a){return function(){return a}}var j,aa=this;Math.floor(Math.random()*2147483648).toString(36);function k(a,b){var d=a.split("."),e=aa;!(d[0]in e)&&e.execScript&&e.execScript("var "+d[0]);for(var g;d.length&&(g=d.shift());)!d.length&&b!==void 0?e[g]=b:e=e[g]?e[g]:e[g]={}}function l(a,b){function d(){}d.prototype=b.prototype;a.w=b.prototype;a.prototype=new d;a.prototype.constructor=a};function n(a,b){return Array.prototype.slice.call(a,b)}k("myjs.utils.toArray",n);var o,p;function q(a){Error.captureStackTrace&&Error.captureStackTrace(this,q);this.message=a}k("myjs.tedir.Error",q);q.prototype.toString=function(){return"myjs.tedir.Error: "+this.message};function s(a,b,d){Error.captureStackTrace&&Error.captureStackTrace(this,s);this.origin=a;this.input=b;this.na=d}k("myjs.tedir.SyntaxError",s);function ba(a,b){var d=a.input.Y;return b<d.length?d[b].value:"<eof>"}
s.prototype.toString=function(){var a=ba(this,this.na),b=[],d=this.origin.fileName;d&&b.push(d);for(var e=0,d=0;d<this.na;d++)for(var g=ba(this,d),m=g.indexOf("\n");m!=-1;)e++,m=g.indexOf("\n",m+1);b.push(e+1);return"tedir.SyntaxError"+("("+b.join(":")+")")+": Unexpected token "+a};function ca(a){return new t(n(arguments))}var u={};function v(){this.Z=f}v.prototype.ga=i(1);function w(a){if(a.Z===f)a.Z=a.J();return!!a.Z}v.prototype.J=i(c);v.prototype.ha=i(h);
function x(a,b){this.constructor.w.constructor.call(this);this.value=a;this.ia=b}l(x,v);j=x.prototype;j.r=i("TOKEN");j.o=function(){};j.normalize=function(){return new x(this.value,this.ia)};j.parse=function(a){var a=a.input,b=a.i();return b.type==this.value?(a.advance(),b.value):u};j.toString=function(){return'"'+this.value+'"'};function y(a){this.constructor.w.constructor.call(this);this.name=a}l(y,v);j=y.prototype;j.r=i("NONTERM");j.o=function(){};j.normalize=function(){return new y(this.name)};
j.parse=function(a){return da(a.ta.z,this.name).parse(a)};j.toString=function(){return"<"+this.name+">"};function z(){}k("myjs.tedir.CustomHandler",z);z.prototype.o=function(){};z.prototype.forEachChild=z.prototype.o;z.prototype.normalize=function(){return this};z.prototype.normalize=z.prototype.normalize;z.prototype.parse=function(){throw Error("Abstract method called");};function B(a){this.T=a}l(B,v);B.prototype.r=i("CUSTOM");B.prototype.o=function(a){this.T.o(a)};B.prototype.normalize=function(){return new B(this.T.normalize())};
B.prototype.parse=function(a){return this.T.parse(a)};function C(a){this.constructor.w.constructor.call(this);this.l=a}l(C,v);j=C.prototype;j.r=i("SEQUENCE");j.o=function(a){this.l.forEach(a)};j.toString=function(){return"(: "+this.l.join(" ")+")"};j.parse=function(a){var b,d=[];for(b=0;b<this.l.length;b++){var e=this.l[b],g=e.parse(a);if(g==u)return u;else w(e)&&d.push(g)}switch(d.length){case 0:return f;case 1:return d[0];default:return d}};
j.ga=function(){var a=0;this.l.forEach(function(b){w(b)&&a++});return a};j.J=function(){var a;for(a=0;a<this.l.length;a++)if(w(this.l[a]))return c;return h};j.normalize=function(){var a=[];this.l.forEach(function(b){b=b.normalize();b.ha()||a.push(b)});return a.length==0?ea:a.length==1?a[0]:new C(a)};function t(a){this.constructor.w.constructor.call(this);this.l=a}l(t,v);j=t.prototype;j.r=i("CHOICE");j.toString=function(){return"(| "+this.l.join(" ")+")"};
j.parse=function(a){var b,d=a.input.cursor;for(b=0;b<this.l.length;b++){var e=this.l[b].parse(a);if(e==u)a.input.cursor=d;else return e}return u};j.o=function(a){this.l.forEach(a)};j.normalize=function(){if(this.l.length==1)return this.l[0].normalize();else{var a=this.l.map(function(a){return a.normalize()});return new t(a)}};function fa(){this.constructor.w.constructor.call(this)}l(fa,v);var ea=new fa;j=fa.prototype;j.r=i("EMPTY");j.o=function(){};j.ha=i(c);j.normalize=function(){return this};
j.parse=i(f);j.J=i(h);j.toString=i(".");function D(a){this.constructor.w.constructor.call(this);this.t=a}l(D,v);j=D.prototype;j.r=i("IGNORE");j.o=function(a){a(this.t)};j.parse=function(a){a=this.t.parse(a);return a==u?a:f};j.normalize=function(){return new D(this.t.normalize())};j.J=i(h);j.toString=function(){return"(_ "+this.t+")"};function E(a,b,d,e){this.t=a;this.filter=b;this.M=d;this.arity=a=e===void 0?-1:e;this.qa=ga(a,this.M,this.filter)}l(E,v);E.prototype.r=i("FILTER");E.prototype.o=function(a){a(this.t)};
E.prototype.parse=function(a){a=this.t.parse(a);return a==u?a:this.qa(a)};E.prototype.normalize=function(){var a=this.t.normalize(),b=this.arity===-1?a.ga():this.arity;return new E(a,this.filter,this.M,b)};function ha(){}k("myjs.tedir.Invoker_",ha);function ga(a,b,d){return a==-1?f:b?ia(d,a):ja(d,a)}ha.forArity=ga;function ja(a,b){switch(b){case 1:return function(b){return a.call(f,b)};default:return function(b){return a.apply(f,b)}}}var ka=[];
function ia(a,b){if(b==1)return function(b){return new a(b)};else{var d=ka[b];d||(d=la(b),ka[b]=d);return d(a)}}function la(a){var b,d=[];for(b=0;b<a;b++)d.push("args["+b+"]");var e=new Function("Cons","args","return new Cons("+d.join(", ")+");");return function(a){return function(b){return e(a,b)}}}function F(a,b,d){this.constructor.w.constructor.call(this);this.body=a;this.O=b||ea;this.P=!!d}l(F,v);j=F.prototype;j.r=i("REPEAT");j.o=function(a){a(this.body);a(this.O)};
j.normalize=function(){return new F(this.body.normalize(),this.O.normalize(),this.P)};j.parse=function(a){var b=a.input,d=b.cursor,e=this.body,g=this.O,m=e.parse(a);if(m==u)return this.P?(b.cursor=d,[]):u;else{var A=[];for(w(e)&&A.push(m);;)if(d=b.cursor,m=g.parse(a),m==u){b.cursor=d;break}else{var $=e.parse(a);if($==u){b.cursor=d;break}else w(g)&&A.push(m),w(e)&&A.push($)}return A}};j.toString=function(){return"("+(this.P?"* ":"+ ")+this.body+" "+this.O+")"};function ma(){}function G(){}l(G,ma);
k("myjs.tedir.Syntax",G);G.create=function(){return new H};G.prototype.getRule=G.prototype.d;function na(a,b){a.K().forEach(function(a){b(a,this.d(a).I())}.bind(a))}G.prototype.Q=function(){return new oa(this)};function H(){this.rules={}}l(H,G);H.prototype.toString=function(){var a=function(a){return a+": "+this.rules[a]}.bind(this);return"grammar { "+this.K().map(a).join(", ")+" } "};H.prototype.K=function(){return Object.keys(this.rules)};
H.prototype.d=function(a,b){if(!this.rules.hasOwnProperty(a))if(b)throw new q("Undefined nonterminal <"+a+">");else this.rules[a]=new I([]);return this.rules[a]};H.prototype.getRule=H.prototype.d;function J(a){this.sa=a;this.N=f}l(J,G);J.prototype.K=function(){return Object.keys(pa(this))};J.prototype.d=function(a){var b=pa(this);if(b.hasOwnProperty(a))return b[a];else throw new q("Undefined nonterminal <"+a+">");};J.prototype.getRule=J.prototype.d;
function pa(a){if(!a.N){var b={};a.sa.forEach(function(a){a.K().forEach(function(e){b.hasOwnProperty(e)||(b[e]=[]);b[e].push(a.d(e))})});a.N={};Object.keys(b).forEach(function(a){this.N[a]=qa(b[a])}.bind(a))}return a.N}function ra(a){this.value=a;this.filter=f}ra.prototype.I=function(){return this.filter?new E(this.value,this.filter.pa,this.filter.M):this.value};function I(a){this.H=a;this.R=f}
function qa(a){if(a.length==1)return a[0];else{var b=[];a.forEach(function(a){b=b.concat(a.H)});return new I(b)}}I.prototype.b=function(a){var b=n(arguments);this.H.push(new ra(new C(b)));return this};I.prototype.addProd=I.prototype.b;I.prototype.e=function(a){return this.j(a,c)};I.prototype.setConstructor=I.prototype.e;I.prototype.j=function(a,b){this.H[this.H.length-1].filter={pa:a,M:!!b};return this};I.prototype.setHandler=I.prototype.j;
I.prototype.I=function(){if(!this.R){var a=this.H.map(function(a){return a.I()});this.R=new t(a)}return this.R};function oa(a){this.s=a;this.ja={}}oa.prototype.Q=function(){return this};function da(a,b){var d=a.ja[b];d||(d=a.s.d(b,c).I().normalize(),a.ja[b]=d);return d}function sa(){this.type=this.value="eof"}sa.prototype.D=i(h);var ta=new sa;function ua(a){this.Y=a;this.V=this.cursor=0;va(this)}ua.prototype.i=function(){return this.k()?this.Y[this.cursor]:ta};
ua.prototype.k=function(){return this.cursor<this.Y.length};function va(a){for(;a.k()&&a.i().D();)a.cursor++;if(a.cursor>a.V)a.V=a.cursor}ua.prototype.advance=function(){this.cursor++;va(this)};function wa(a,b){this.ta=a;this.input=b}function xa(a){this.fileName=a||f}k("myjs.tedir.SourceOrigin",xa);function K(a){this.z=a.Q()}k("myjs.tedir.Parser",K);
K.prototype.parse=function(a,b,d){d=d||new xa;a=da(this.z,a);b=new ua(b);a=a.parse(new wa(this,b));d=a==u||b.k()?new s(d,b,b.V):f;if(a==u||b.k())throw d;else return a};K.prototype.parse=K.prototype.parse;var L={};k("myjs.factory",L);L.L=function(a){return new D(a)};L.ignore=L.L;L.a=function(a){return new y(a)};L.nonterm=L.a;L.m=function(a){var b=n(arguments);return ca(new C(b),ea)};L.option=L.m;L.ea=ca;L.choice=L.ea;L.n=function(a,b){return new F(a,b,c)};L.star=L.n;L.G=function(a,b){return new F(a,b,h)};L.plus=L.G;L.fa=function(a){return new B(a)};L.custom=L.fa;L.ua=function(a){return new C(n(arguments))};L.seq=L.ua;k("myjs.Syntax",G);L.c=function(a){return L.L(new x(a,"punctuator"))};L.punct=L.c;
L.u=function(a){return new x(a,"punctuator")};L.punctValue=L.u;L.ma=function(a){return L.L(new x(a,void 0))};L.token=L.ma;L.g=function(a){return L.L(new x(a,"keyword"))};L.keyword=L.g;L.F=function(a){return new x(a,"keyword")};L.keywordValue=L.F;L.value=function(a){return new x(a,void 0)};L.value=L.value;function M(a){Error.captureStackTrace&&Error.captureStackTrace(this,M);this.message=a}M.prototype.toString=function(){return"myjs.Error: "+this.message};
function O(a){this.name=a;this.parent="myjs.JavaScript";this.S=[];this.z=this.s=f;this.start="Program";this.types=this.v=this.X=this.A=f}var ya={};O.prototype.getName=function(){return this.name};O.prototype.q=function(a){var b;for(b=0;b<arguments.length;b++)this.S.push(arguments[b]);return this};O.prototype.B=function(){if(!this.s){var a=this.parent?P(this.parent).B():G.create(),b=this.S.map(function(a){return za(a).B()});b.length>0&&(a=new J([a].concat(b)));this.s=a}return this.s};
function Aa(a){var b={};a.forEach(function(a){Object.keys(a).forEach(function(e){b[e]=a[e]})});return b}O.prototype.C=function(){if(!this.types){var a=this.S.map(function(a){return za(a).C()});this.parent&&a.push(P(this.parent).C());this.types=Aa(a)}return this.types};function Ba(){}Ba.prototype.aa=function(a,b,d){var e=this;if(b&&b.prototype.translate)return b.prototype.translate.call(a,d,function(a){return Q(d,a,e)});else{var g={};Object.keys(a).forEach(function(b){g[b]=Q(d,a[b],e)});return g}};
Ba.prototype.$=function(a,b){var d=this;return a.map(function(a){return Q(b,a,d)})};Ba.prototype.ba=function(a){return a};function Q(a,b,d){if(Array.isArray(b))return d.$(b,a);else if(b==f||typeof b=="string"||typeof b=="number"||typeof b=="boolean")return d.ba(b,a);else if(typeof b=="object"&&typeof b.type=="string"){var e=b.type,g=a.C();return d.aa(b,g.hasOwnProperty(e)?g[e]:f,a)}else throw new M("Unexpected syntax tree node "+JSON.stringify(b)+".");}
O.prototype.translate=function(a,b,d){if(!this.z)this.z=this.B().Q();var e=new K(this.z);if(!this.v){var g;this.A||Ca(this);g=this.A;this.X||Ca(this);this.v=new Da(g,this.X)}a=new Ea(a,this.v);for(g=[];a.k();){var m=Fa(a);g.push(m)}b=e.parse(this.start,g,b,d);d?d=b:(d=Q(this,b,new Ba),b=new R(this),S(b,d),Ha(b),d=b.text.join(""));return d};O.prototype.translate=O.prototype.translate;
function Ca(a){function b(a){if(a.r()=="TOKEN")switch(a.ia){case "keyword":d[a.value]=c;break;case "punctuator":e[a.value]=c}else a.o(b)}var d={},e={};na(a.B(),function(a,d){b(d)});a.A=Object.keys(d).sort();a.X=Object.keys(e).sort()}function P(a){return!ya.hasOwnProperty(a)?f:ya[a]}k("myjs.getDialect",P);function T(a){this.name=a;this.s=this.la=f;this.types={}}k("myjs.Fragment",T);var Ia={};T.prototype.p=function(a){this.la=a;return this};T.prototype.setSyntaxProvider=T.prototype.p;
T.prototype.f=function(a,b){this.types[a]=b;return this};T.prototype.registerType=T.prototype.f;T.prototype.C=function(){return this.types};T.prototype.B=function(){if(!this.s){var a=this.la();if(!a)throw new M('Fragment "'+this.name+'" provided no syntax.');this.s=a}return this.s};T.prototype.getName=function(){return this.name};function U(a){Ia[a.getName()]=a}k("myjs.registerFragment",U);function za(a){if(!Ia.hasOwnProperty(a))throw new M('Unknown fragment "'+a+'".');return Ia[a]}
k("myjs.getFragment",za);function V(a,b){this.value=a;this.type=b||a}V.prototype.D=i(h);V.prototype.isSoft=V.prototype.D;V.prototype.toString=function(){return this.value!=this.type?"["+this.type+":"+this.value+"]":"["+this.value+"]"};function W(a){this.value=a}W.prototype.toString=function(){return"("+this.value+")"};W.prototype.D=i(c);W.prototype.isSoft=W.prototype.D;function Da(a,b){this.A={};a.forEach(function(a){this.A[a]=c}.bind(this));this.ka=Ja(b)}function Ka(a){this.map=a}var La=new Ka({});
function Ja(a){if(a.length==0)return La;var b={};a.forEach(function(a){var d=a[0],a=a.substring(1);b.hasOwnProperty(d)||(b[d]=[]);a.length>0&&b[d].push(a)});var d={};Object.keys(b).forEach(function(a){d[a]=Ja(b[a])});return new Ka(d)}Ka.prototype.get=function(a){return this.map[a]};function Ea(a,b){this.v=b;this.source=a;this.cursor=0}Ea.prototype.i=function(){return this.source[this.cursor]};Ea.prototype.k=function(){return this.cursor<this.source.length};Ea.prototype.advance=function(){this.cursor++};
function Ma(a,b){a.cursor=Math.min(a.cursor+b,a.source.length)}
function Fa(a){var b=a.i();switch(b){case '"':case "'":var b=a.cursor,d=a.i();for(a.advance();a.k()&&a.i()!=d;)a.i()=="\\"&&a.advance(),a.advance();Ma(a,1);return new V(a.source.substring(b,a.cursor),"StringLiteral");case "/":switch(a.source[a.cursor+1]){case "/":for(b=a.cursor;a.k()&&a.i()!="\n";)a.advance();Ma(a,1);return new W(a.source.substring(b,a.cursor));case "*":for(b=a.cursor;a.cursor+1<a.source.length&&(a.i()!="*"||a.source[a.cursor+1]!="/");)a.advance();Ma(a,2);return new W(a.source.substring(b,
a.cursor));case "=":return a.advance(),Na(a,"/=");default:return Na(a,"/")}}if(/\s/.test(b)){for(b=a.cursor;a.k()&&/\s/.test(a.i());)a.advance();return new W(a.source.substring(b,a.cursor))}else if(a.v.ka.get(b)){b=a.cursor;d=a.v.ka;do(d=d.get(a.i()))&&a.advance();while(d&&a.k());return new V(a.source.substring(b,a.cursor))}else if(/[\d]/.test(b)){b=a.cursor;d=h;if(a.i()=="0"&&(a.advance(),a.i()=="x"||a.i()=="X")){for(a.advance();a.k()&&/[0-9a-fA-F]/.test(a.i());)a.advance();d=c}d||(Oa(a),a.k()&&
a.i()=="."&&(a.advance(),Oa(a)));return new V(a.source.substring(b,a.cursor),"NumericLiteral")}else if(/[\w\$]/.test(b)){for(b=a.cursor;a.k()&&/[\w\d\$]/.test(a.i());)a.advance();b=a.source.substring(b,a.cursor);return a.v.A.hasOwnProperty(b)?new V(b):new V(b,"Identifier")}else return a.advance(),new W(b)}function Na(a,b){a.advance();return new V(b,void 0)}function Oa(a){for(;a.k()&&/[\d]/.test(a.i());)a.advance()}function R(a){this.oa=a;this.types=a.C();this.U=h;this.W=0;this.text=[]}
function X(a){a.U=c;return a}function S(a,b){Q(a.oa,b,a);return a}R.prototype.$=function(a){Y(this,a)};R.prototype.ba=function(a){this.write(String(a))};R.prototype.aa=function(a,b){b?b.prototype.h.call(a,this):this.write("#<"+b+">")};function Y(a,b,d){var e;for(e=0;e<b.length;e++)d&&e>0&&a.write(d),S(a,b[e]);return a}function Ha(a){if(a.U){a.U=h;a.text.push("\n");for(var b=0;b<a.W;b++)a.text.push("  ")}}R.prototype.write=function(a){Ha(this);this.text.push(a);return this};var Pa=new O("myjs.JavaScript");
Pa.parent=f;var Qa=Pa.q("myjs.Program").q("myjs.Statement").q("myjs.Declaration").q("myjs.Core").q("myjs.LeftHandSide").q("myjs.Operators").q("myjs.Expression").q("myjs.Control").q("myjs.Iteration").q("myjs.Exceptions");ya[Qa.getName()]=Qa;function Ra(a){this.type="ReturnStatement";this.argument=a}Ra.prototype.h=function(a){a.write("return");this.argument&&S(a.write(" "),this.argument);X(a.write(";"))};function Sa(a,b,d){this.type="IfStatement";this.test=a;this.consequent=b;this.alternate=d||f}Sa.prototype.h=function(a){S(S(a.write("if ("),this.test).write(") "),this.consequent);this.alternate&&S(a.write(" else "),this.alternate)};function Ta(a){this.type="BreakStatement";this.label=a}
Ta.prototype.h=function(a){a.write("break");this.label&&S(a.write(" "),this.label);X(a.write(";"))};function Ua(a){this.type="ContinueStatement";this.label=a}Ua.prototype.h=function(a){a.write("continue");this.label&&S(a.write(" "),this.label);X(a.write(";"))};function Va(a,b){this.type="SwitchStatement";this.discriminant=a;this.cases=b}function Wa(a,b){this.type="SwitchCase";this.test=a;this.consequent=b}
(function(){var a=(new T("myjs.Control")).p(function(){var a=G.create();a.d("Statement").b(L.a("IfStatement")).b(L.a("ReturnStatement")).b(L.a("BreakStatement")).b(L.a("ContinueStatement")).b(L.a("SwitchStatement"));a.d("ReturnStatement").b(L.g("return"),L.m(L.a("Expression")),L.c(";")).e(Ra);a.d("BreakStatement").b(L.g("break"),L.m(L.a("Identifier")),L.c(";")).e(Ta);a.d("ContinueStatement").b(L.g("continue"),L.m(L.a("Identifier")),L.c(";")).e(Ua);a.d("IfStatement").b(L.g("if"),L.c("("),L.a("Expression"),
L.c(")"),L.a("Statement"),L.m(L.g("else"),L.a("Statement"))).e(Sa);a.d("SwitchStatement").b(L.g("switch"),L.c("("),L.a("Expression"),L.c(")"),L.a("CaseBlock")).e(Va);a.d("CaseBlock").b(L.c("{"),L.n(L.ea(L.a("CaseClause"),L.a("DefaultClause"))),L.c("}"));a.d("CaseClause").b(L.g("case"),L.a("Expression"),L.c(":"),L.n(L.a("Statement"))).e(Wa);a.d("DefaultClause").b(L.g("default"),L.c(":"),L.n(L.a("Statement"))).j(function(a){return new Wa(f,a)});return a}).f("ReturnStatement",Ra).f("BreakStatement",
Ta).f("ContinueStatement",Ua).f("IfStatement",Sa);U(a)})();function Xa(a){this.type="Identifier";this.name=a}Xa.prototype.h=function(a){a.write(this.name)};function Z(a){this.type="Literal";this.value=a}Z.prototype.h=function(a){a.write(JSON.stringify(this.value))};
(function(){var a=(new T("myjs.Core")).p(function(){function a(b){return function(a){return new Z(b(a))}}function d(){}var e=G.create();e.d("Identifier").b(L.value("Identifier")).e(Xa);e.d("Literal").b(L.a("NumericLiteral")).b(L.a("StringLiteral")).b(L.a("RegularExpressionLiteral")).e(Z).b(L.a("BooleanLiteral"));e.d("StringLiteral").b(L.value("StringLiteral")).e(a(function(a){return a.substring(1,a.length-1)}));e.d("NumericLiteral").b(L.value("NumericLiteral")).e(a(Number));e.d("BooleanLiteral").b(L.g("true")).j(function(){return new Z(c)}).b(L.g("false")).e(function(){return new Z(h)});
l(d,z);d.prototype.parse=function(a){for(var a=a.input,b=[],d=a.i().value;a.k()&&d!="/";)b.push(d),a.advance(),d=a.i().value;if(a.k())a.advance(),a.k()&&a.i().type=="Identifier"&&(b+=a.i().value,a.advance());else return u;return b};e.d("RegularExpressionLiteral").b(L.ma("/"),L.fa(new d));return e}).f("Identifier",Xa).f("Literal",Z);U(a)})();function Ya(a,b,d){this.type="FunctionDeclaration";this.id=a;this.params=b;this.body=d}Ya.prototype.h=function(a){X(S(Y(S(a.write("function "),this.id).write("("),this.params,", ").write(")"),this.body))};function Za(a){this.type="VariableDeclaration";this.declarations=a}Za.prototype.h=function(a){X(Y(a.write("var "),this.declarations,", ").write(";"))};function $a(a,b){this.type="VariableDeclarator";this.id=a;this.init=b}$a.prototype.h=function(a){S(a,this.id);this.init&&S(a.write(" = "),this.init)};
(function(){var a=(new T("myjs.Declaration")).p(function(){var a=G.create();a.d("VariableDeclarationList").b(L.G(L.a("VariableDeclaration"),L.c(","))).e(Za);a.d("VariableDeclaration").b(L.a("Identifier"),L.m(L.c("="),L.a("AssignmentExpression"))).e($a);a.d("FunctionDeclaration").b(L.g("function"),L.a("Identifier"),L.c("("),L.a("FormalParameterList"),L.c(")"),L.c("{"),L.a("FunctionBody"),L.c("}")).e(Ya);a.d("FormalParameterList").b(L.n(L.a("Identifier"),L.c(",")));return a}).f("VariableDeclaration",
Za).f("VariableDeclarator",$a).f("FunctionDeclaration",Ya);U(a)})();function ab(a){this.type="ThrowStatement";this.argument=a}function bb(a,b,d){this.type="TryStatement";this.block=a;this.handler=b;this.finalizer=d}function cb(a,b){this.type="CatchClause";this.param=a;this.body=b}
U((new T("myjs.Exceptions")).p(function(){var a=G.create();a.d("Statement").b(L.a("ThrowStatement")).b(L.a("TryStatement"));a.d("ThrowStatement").b(L.g("throw"),L.a("Expression"),L.c(";")).e(ab);a.d("TryStatement").b(L.g("try"),L.a("Block"),L.m(L.a("Catch")),L.m(L.a("Finally"))).e(bb);a.d("Catch").b(L.g("catch"),L.c("("),L.a("Identifier"),L.c(")"),L.a("Block")).e(cb);a.d("Finally").b(L.g("finally"),L.a("Block"));return a}));function db(){this.type="ThisExpression"}var eb=new db;function fb(){return eb}db.prototype.h=function(a){a.write("this")};function kb(a){this.type="ArrayExpression";this.elements=a}kb.prototype.h=function(a){Y(a.write("["),this.elements,", ").write("]")};function lb(a){this.type="ObjectExpression";this.properties=a}lb.prototype.h=function(a){Y(a.write("{"),this.properties,", ").write("}")};function mb(a,b){this.type="ObjectProperty";this.key=a;this.value=b}
mb.prototype.h=function(a){S(S(a,this.key).write(": "),this.value)};function nb(a,b,d){this.type="FunctionExpression";this.id=a;this.params=b;this.body=d}nb.prototype.h=function(a){a.write("function ");this.id&&S(a,this.id);X(S(Y(a.write("("),this.params,", ").write(") "),this.body))};function ob(a,b,d){this.type="ConditionalExpression";this.test=a;this.consequent=b;this.alternate=d}ob.prototype.h=function(a){S(S(S(a.write("("),this.test).write(")?("),this.consequent).write("):("),this.alternate).write(")")};
(function(){var a=(new T("myjs.Expression")).p(function(){var a=G.create();a.d("PrimaryExpression").b(L.g("this")).j(fb).b(L.a("Identifier")).b(L.a("Literal")).b(L.a("ArrayLiteral")).b(L.a("ObjectLiteral")).b(L.c("("),L.a("Expression"),L.c(")"));a.d("ObjectLiteral").b(L.c("{"),L.n(L.a("PropertyAssignment"),L.c(",")),L.c("}")).e(lb);a.d("PropertyAssignment").b(L.a("PropertyName"),L.c(":"),L.a("AssignmentExpression")).e(mb);a.d("PropertyName").b(L.a("Identifier")).b(L.a("StringLiteral")).b(L.a("NumericLiteral"));
a.d("ArrayLiteral").b(L.c("["),L.n(L.a("AssignmentExpression"),L.c(",")),L.c("]")).e(kb);a.d("ConditionalExpression").b(L.a("OperatorExpression"),L.m(L.c("?"),L.a("AssignmentExpression"),L.c(":"),L.a("AssignmentExpression"))).j(function(a,b){return b?new ob(a,b[0],b[1]):a});a.d("FunctionExpression").b(L.g("function"),L.m(L.a("Identifier")),L.c("("),L.a("FormalParameterList"),L.c(")"),L.c("{"),L.a("FunctionBody"),L.c("}")).e(nb);return a}).f("FunctionExpression",nb).f("ThisExpression",db).f("ArrayExpression",
kb).f("ObjectExpression",lb).f("ObjectProperty",mb).f("ConditionalExpression",ob);U(a)})();function pb(a,b){this.type="WhileStatement";this.test=a;this.body=b}pb.prototype.h=function(a){S(S(a.write("while ("),this.test).write(") "),this.body)};function qb(a,b){this.type="DoWhileStatement";this.body=a;this.test=b}qb.prototype.h=function(a){S(S(a.write("do "),this.body).write(" while ("),this.test).write(");")};function rb(a,b,d,e){this.type="ForStatement";this.init=a;this.test=b;this.update=d;this.body=e}
function sb(a,b,d){this.type="ForInStatement";this.left=a;this.right=b;this.body=d}
(function(){var a=(new T("myjs.Iteration")).p(function(){var a=G.create();a.d("Statement").b(L.a("IterationStatement"));a.d("IterationStatement").b(L.g("do"),L.a("Statement"),L.g("while"),L.c("("),L.a("Expression"),L.c(")"),L.c(";")).e(qb).b(L.g("while"),L.c("("),L.a("Expression"),L.c(")"),L.a("Statement")).e(pb).b(L.g("for"),L.c("("),L.g("var"),L.a("VariableDeclarationList"),L.c(";"),L.m(L.a("Expression")),L.c(";"),L.m(L.a("Expression")),L.c(")"),L.a("Statement")).e(rb).b(L.g("for"),L.c("("),L.m(L.a("Expression")),
L.c(";"),L.m(L.a("Expression")),L.c(";"),L.m(L.a("Expression")),L.c(")"),L.a("Statement")).e(rb).b(L.g("for"),L.c("("),L.g("var"),L.a("VariableDeclaration"),L.g("in"),L.a("Expression"),L.c(")"),L.a("Statement")).e(sb).b(L.g("for"),L.c("("),L.a("LeftHandSideExpression"),L.g("in"),L.a("Expression"),L.c(")"),L.a("Statement")).e(sb);return a}).f("WhileStatement",pb).f("DoWhileStatement",qb);U(a)})();function tb(a,b){this.type="NewExpression";this.constructor=a;this.arguments=b}tb.prototype.h=function(a){Y(S(a.write("new ("),this.constructor).write(")("),this.arguments,", ").write(")")};function ub(a,b){this.type="CallExpression";this.callee=a;this.arguments=b}ub.prototype.h=function(a){Y(S(a.write("("),this.callee).write(")("),this.arguments,", ").write(")")};function vb(a,b,d){this.type="MemberExpression";this.object=a;this.property=b;this.computed=d}
vb.prototype.h=function(a){this.computed?S(S(a.write("("),this.object).write(")["),this.property).write("]"):S(S(a.write("("),this.object).write(")."),this.property)};function wb(){}k("myjs.ast.LeftHandSuffix",wb);wb.prototype.apply=wb.prototype.apply;
(function(){var a=(new T("myjs.LeftHandSide")).p(function(){function a(b){this.value=b}function d(a){this.name=a}function e(a){this.da=a}a.prototype.apply=function(a){return new vb(a,this.value,c)};a.prototype.apply=a.prototype.apply;d.prototype.apply=function(a){return new vb(a,this.name,h)};d.prototype.apply=d.prototype.apply;e.prototype.ra=c;e.prototype.apply=function(a){return new ub(a,this.da)};e.prototype.apply=e.prototype.apply;e.prototype.ca=function(a){return new tb(a,this.da)};var g=G.create();
g.d("LeftHandSideExpression").b(L.n(L.F("new")),L.a("LeftHandSideAtom"),L.n(L.a("LeftHandSideSuffix"))).j(function(a,b,d){for(var g=a.length,a=0;a<d.length;a++){var N=d[a];N.ra&&g>0?(b=N.ca(b),g--):b=N.apply(b)}for(a=0;a<g;a++)b=(new e([])).ca(b);return b});g.d("LeftHandSideAtom").b(L.a("PrimaryExpression")).b(L.a("FunctionExpression"));g.d("LeftHandSideSuffix").b(L.c("["),L.a("Expression"),L.c("]")).e(a).b(L.c("."),L.a("Identifier")).e(d).b(L.a("Arguments")).e(e);g.d("Arguments").b(L.c("("),L.n(L.a("AssignmentExpression"),
L.c(",")),L.c(")"));return g}).f("CallExpression",ub).f("MemberExpression",vb).f("NewExpression",tb);U(a)})();function xb(a){this.type="SequenceExpression";this.expressions=a}function yb(a,b,d){this.type="UnaryExpression";this.operator=a;this.argument=b;this.prefix=d}function zb(a){this.type="UnaryOperator";this.token=a}function Ab(a,b,d){this.type="BinaryExpression";this.left=a;this.operator=b;this.right=d}function Bb(a){this.type="BinaryOperator";this.token=a}function Cb(a,b,d){this.type="AssignmentExpression";this.left=a;this.operator=b;this.right=d}
function Eb(a){this.type="AssignmentOperator";this.token=a}function Fb(a,b,d){this.type="UpdateExpression";this.operator=a;this.argument=b;this.prefix=d}function Gb(a){this.type="UpdateOperator";this.token=a}function Hb(a,b,d){this.type="LogicalExpression";this.operator=b;this.left=a;this.right=d}function Ib(a){this.type="LogicalOperator";this.token=a}
(function(){function a(){}function b(){}var d="=,+=,-=,*=,&=,|=,^=,%=,>>=,>>>=,<<=,/=".split(","),e="==,!=,===,!==,<,<=,>,>=,<<,>>,>>>,+,-,*,%,|,^,/,&".split(","),g=["instanceof","in"],m=["||","&&"],A=["instanceof"],$=["-","+","!","~","!"],Db=["typeof","void","delete"],N=["++","--"];a.prototype.h=function(a){S(S(S(a.write("("),this.left).write(")"),this.operator).write("("),this.right).write(")")};b.prototype.h=function(a){a.write(this.token)};var Ga=(new T("myjs.Operators")).p(function(){function a(b,
d){return function(a){var e=new b(a);return function(a,b){return new d(a,e,b)}}}function b(a){var d,e=a[a.length-1];for(d=a.length-3;d>=0;d-=2)e=(0,a[d+1])(a[d],e);return e}function gb(a,b){return function(d){var e=new a(d);return function(a,d){return new b(e,a,d)}}}var r=G.create();r.d("Expression").b(L.G(L.a("AssignmentExpression"),L.c(","))).j(function(a){return function(b){var d,e=b[b.length-1];for(d=b.length-2;d>=0;d--)e=new a(b[d],e);return e}}(xb));r.d("AssignmentExpression").b(L.G(L.a("ConditionalExpression"),
L.a("AssignmentOperator"))).j(b);var Ga=a(Eb,Cb);d.forEach(function(a){r.d("AssignmentOperator").b(L.u(a)).j(Ga)});r.d("OperatorExpression").b(L.G(L.a("UnaryExpression"),L.a("InfixToken"))).j(b);var hb=a(Bb,Ab);e.forEach(function(a){r.d("InfixToken").b(L.u(a)).j(hb)});g.forEach(function(a){r.d("InfixToken").b(L.F(a)).j(hb)});var Pb=a(Ib,Hb);m.forEach(function(a){r.d("InfixToken").b(L.u(a)).j(Pb)});A.forEach(function(a){r.d("InfixToken").b(L.F(a))});r.d("UnaryExpression").b(L.n(L.a("PrefixToken")),
L.a("LeftHandSideExpression"),L.n(L.a("PostfixOperator"))).j(function(a,b,d){for(var e=b,b=0;b<d.length;b++)e=d[b](e,h);for(b=a.length-1;b>=0;b--)e=a[b](e,c);return e});var ib=gb(Gb,Fb);N.forEach(function(a){r.d("PrefixToken").b(L.u(a)).j(ib)});var jb=gb(zb,yb);Db.forEach(function(a){r.d("PrefixToken").b(L.F(a)).j(jb)});$.forEach(function(a){r.d("PrefixToken").b(L.u(a)).j(jb)});N.forEach(function(a){r.d("PostfixOperator").b(L.u(a)).j(ib)});return r}).f("AssignmentExpression",a).f("AssignmentOperator",
b).f("BinaryExpression",a).f("BinaryOperator",b).f("LogicalExpression",a).f("LogicalOperator",b);U(Ga)})();function Jb(a){this.type="Program";this.elements=a}Jb.prototype.h=function(a){Y(a,this.elements)};(function(){var a=(new T("myjs.Program")).p(function(){var a=G.create();a.d("Program").b(L.n(L.a("SourceElement"))).e(Jb);a.d("SourceElement").b(L.a("FunctionDeclaration")).b(L.a("Statement"));a.d("FunctionBody").b(L.n(L.a("SourceElement"))).e(Kb);return a}).f("Program",Jb);U(a)})();function Lb(){this.type="EmptyStatement"}Lb.prototype.h=function(a){X(a.write(";"))};function Mb(a){this.type="ExpressionStatement";this.expression=a}Mb.prototype.h=function(a){X(S(a,this.expression).write(";"))};function Kb(a){this.type="BlockStatement";this.body=a}Kb.prototype.h=function(a){a=a.write("{");a.W++;a=Y(X(a),this.body);a.W--;a.write("}")};
(function(){var a=(new T("myjs.Statement")).p(function(){var a=G.create();a.d("Statement").b(L.a("ExpressionStatement")).b(L.a("Block")).b(L.a("VariableStatement"));a.d("Statement").b(L.c(";")).e(Lb);a.d("ExpressionStatement").b(L.a("Expression"),L.c(";")).e(Mb);a.d("Block").b(L.c("{"),L.n(L.a("Statement")),L.c("}")).e(Kb);a.d("VariableStatement").b(L.g("var"),L.a("VariableDeclarationList"),L.c(";"));return a}).f("EmptyStatement",Lb).f("ExpressionStatement",Mb).f("BlockStatement",Kb);U(a)})();(function(){function a(a){this.va=a}o=function(a){this.type="QuoteExpression";this.value=a};a.prototype.$=function(a,b){var g=this,m=a.map(function(a){return Q(b,a,g)});return new kb(m)};a.prototype.aa=function(a,b,g){if(b==p)return this.va(a.value);else{var m=this,A=[];Object.keys(a).forEach(function(b){A.push(new mb(new Z(b),Q(g,a[b],m)))});return new lb(A)}};a.prototype.ba=function(a){return new Z(a)};o.prototype.translate=function(b,e){return Q(b,this.value,new a(e))};o.prototype.translate=o.prototype.translate;
p=function(a){this.type="UnquoteExpression";this.value=a};var b=(new T("myjs.Quote")).p(function(){var a=G.create();a.d("PrimaryExpression").b(L.c("`"),L.a("PrimaryExpression")).e(o);a.d("Identifier").b(L.c(","),L.a("PrimaryExpression")).e(p);return a}).f("QuoteExpression",o).f("UnquoteExpression",p);U(b)})();function Nb(a){Error.captureStackTrace&&Error.captureStackTrace(this,Nb);this.message=a}Nb.prototype.toString=function(){return"MyJsException: "+this.message};function Ob(a,b){var d=new (window.ActiveXObject||XMLHttpRequest)("Microsoft.XMLHTTP");d.onreadystatechange=function(){if(d.readyState==4)if(d.status==0||d.status==200)b(d.responseText);else throw Error("Could not load "+a);};d.open("GET",a,h);d.send()}var Qb={};
function Rb(a,b){Qb.hasOwnProperty(a)?b(Qb[a]):Ob(a,function(d){Qb[a]=d;b(d)})}function Sb(a,b){function d(){if(b.innerText){var d=a.translate(b.innerText.trim(),f);console.log(d);window.eval(d)}}b.src?Rb(b.src,function(e){e=a.translate(e,new xa(b.src));console.log(e);window.eval(e);d()}):d()}
addEventListener("DOMContentLoaded",function(){var a,b=document.getElementsByTagName("script");for(a=0;a<b.length;a++){var d=b[a];if(d.type=="text/myjs"){var e;if(e=d.getAttribute("dialect")){var g=P(e);if(g)e=g;else if(za(e))e=(new O(e)).q(e);else throw new Nb("Unknown dialect '"+e+"'.");}else e=P("myjs.JavaScript");Sb(e,d)}}}); })();
